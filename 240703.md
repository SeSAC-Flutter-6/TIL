##  네트워크 통신
URL을 사용하여 고수준 액세스 가능(사람이 이해하기 쉬움)

URI ⊃ URN, URI(https, ftp, etc.)

### Json
- 서버-클라이언트 통신에서 표준처럼 사용되는 데이터 교환 형식
- 가볍고 사람이 읽기 쉽다
- Map과 비슷한 구조
- 직렬화하여 문자열로 나타내기 쉽다
- 대부분의 언어로 파싱 가능

### HTTP(HyperText Transfer Protocol)
- 고수준 액세스
- 원래는 브라우저가 GET 요청으로 웹 서버의 문서를 읽어오는 용도였음
- 현재는 서버와 클라이언트가 텍스트, 이미지, 동영상 등의 데이터를 주고 받을때 사용하는 프로토콜로 확장
- 웹 상의 이미지, 영상, 파일 등의 바이너리 데이터를 HTTP 멀티파트, Base64 인코딩하여 사용
- 전송 계층 보안(TLS: Transport Layer Security)을 더해 만든 것이 HTTPS
- Stateless(상태 비저장) 프로토콜

### 네트워크 OSI-7 계층
물리 계층 - 데이터링크 계층 - 네트워크 계층 - 전송 계층 - 세션 계층 - 표현 계층 - 응용 계층

### HTTP 요청과 응답
- 모든 HTTP 메세지는 요청과 응답이 일대일 대응
- 클라이언트 요청 - 서버 응답 단순한 로직
- 서버로 요청 보내기 전까지 서버의 동작 여부 알 수 없다는 단점
- 일정 시간 응답 없을 때 요청 실패로 간주(And 10초 / iOS 60초)
- 다른 국가에 있는 서버, 클라우드 기반의 서버는 예측이 어려우므로 MockServer 활용한 테스트가 필요함

### 전송계층 프로토콜(TCP vs. UDP)
Socket 을 사용하여 TCP/IP 통신을 할 수 있다.
접속하기 위해 IP 주소와 포트 번호가 필요하다.
프로토콜은 RFC 문서에 정해둔 것을 따른다

웹페이지 접속, 메일 전송, 게임 등은 모두 TCP/IP 를 통한 통신에 의해 이루어 진다.

**TCP**
- 신뢰성 있는 연결지향성 앱에서 사용 (이메일, 파일 전송, 웹브라우저)
- Stateful 프로토콜
- 연결되면 연결을 끊기 전까지 계속 메시지를 주고 받음
- 한쪽에 문제가 생기면 다른쪽에서 감지 가능
- 텍스트가 아닌 바이너리 데이터를 전송
- 패킷 크기가 HTTP에 비해 작음 → 속도 빠름
- 각 요청이 소켓 1개를 공유 (HTTP는 각 요청이 소켓 1개씩 사용): 요청을 식별할 식별자가 필요
- 응답을 알 수 있는 방법이 없어서 타임아웃에 대한 구현을 직접해야함
- TCP는 HTTP보다 빠르지만 개발자가 할 일이 많다

**UDP**
- 신속한 데이터 전송이나 손실 가능성이 있는 상황에 주로 사용
- 비연결형 프로토콜
- 데이터 전달 보장이 안되어 신뢰성이 낮음
- 흐름 제어 없음
- 단순성
- 멀티캐스팅 및 브로드캐스팅

### Socket을 사용한 저수준 액세스
- TCP / UDP 를 추상화한 개발자를 위한 API
- 프로토콜이 아니고 OSI 7계층에 포함되지 않음

### 응용계층 WebSocket을 활용한 실시간 양방향 통신
- TCP를 추상화한 HTTP 호환 지속적인 연결을 지원
- TCP로 접속후 WebSocket 프로토콜로 업그레이드하는 방식
- 채팅, 주식 데이터 등에 활용

### HTTP 통신
- 요청 메서드
    - GET: 데이터 요청(body를 포함할 수 없음, ?와 & 문자를 사용하는 쿼리 파라미터)
    - POST: 데이터가 포함된 요청(로그인, 주문 요청 등)
    - DELETE: 삭제
    - PUT: 전부 업데이트
    - PATCH: 일부 업데이트
- 요청 헤더
    - 요청 정보를 파악하는 데 도움이 되는 다른 여러 정보를 포함할 수 있음
    - 주로 인증, 캐싱, 클라이언트 힌트, 조건, 연결 관리, 쿠키, CORS 등에 활용
    - JSON 파일을 주고 받을 때 Content-Type 에 application/json 으로 명시(정확히 작성)
- 상태 코드
    - 200 OK
    - 400 Bad Request
    - 404 Not Found
    - 500 Internal Server Error
- 세션과 쿠키
    - HTTP는 상태라는 개념이 없기 때문에 세션과 쿠키를 사용해 구분
    - 주로 웹에서 서버는 세션, 클라이언트는 쿠키를 통해 상태 저장
    - 모바일에 없는 개념: SharedPreference 등으로 구현
- RESTful API(Representational State Transfer)
    - 서버와 클라이언트가 메시지를 주고받을 때 가장 많이 사용하는 통신 규격
    - REST: 분산 시스템을 위한 소프트웨어 아키텍처의 한 형태
    - 요청 주소(URL)과 메서드(GET, POST 등), JSON 규격을 이용하여 API를 정의
    - 오늘날 가장 범용적으로 사용




