# 비동기 프로그래밍
## 동기(sync) 프로그래밍
- 코드가 순서대로 실행된다.
- 작업이 완료될 때까지 프로그램이 중단될 수 없다.
- 모든 작업은 이전 작업의 실행이 완료될 때까지 기다려야 한다.

![alt text](image-33.png)
![alt text](image-34.png)

## 비동기(async) 프로그래밍
- 임의의 순서로 또는 동시에 작업이 실행될 수 있다
- 비동기를 처리하는 방법에는 callback, Future, async - await 방식이 있다

## 콜백 함수
- 실행 가능한 함수를 인자로 전달하여, 특정 상황이 발생할 때 호출되게 하는 방식
- 비동기는 현재 코드의 실행 결과를 받지 않고 이후 코드를 수행하는 기법이다.
컴퓨팅 자원을 효율적으로 사용하는 기법이지만 정확한 순서를 지켜 수행하는지를 고려해야 한다. 비동기 코드를 순서대로 실행하는 가장 일반적인 방법으로 콜백(Callback)이 있다. (Java)
- Dart 에서는 콜백 이외에도 async - await 를 활용한 순차 실행 코드 작성을 지원하여 더 깔끔한 코드를 작성할 수 있다
- 현실 세계에서 콜백의 예시 :  
음식을 주문하고 진동벨을 가지고 기다리면 음식이 준비되면 손님을 호출(Callback)하는 상황

## 콜백으로 작성한 코드 (일부러 막 짠 코드)
- 함수의 실행순서가 보장된다
- 예상대로 잘 동작한다
- 그런데 3단계가 아니라 10단계라면?

```dart
final List database = [];

void main(List<String> arguments) {
 final result = register({
   'email': 'abc@abc.com',
   'password': '123456',
   'name': 'John Doe',
 });
 print(result.call());
 print(database);
}

Function register(user) {
 return saveDb(user, (user) {
   return sendEmail(user, (user) {
     return getResult(user);
   });
 });
}

Function saveDb(user, callback) {
 print('saving $user to db');
 return callback(user);
}

Function sendEmail(user, callback) {
 print('sending email to $user');
 database.add(user);
 return callback(user);
}

Function getResult(user) {
 return () => 'success register $user';
}
```

## Future
- 미래에 완료되는 객체
- Javascript 의 Promise 에 대응
- Future 는 ‘미래'에 받아올 값을 의미

```dart
Future<String> name;
Future<int> number;
Future<Person> person;
```

## async - await 문법
- async - await 는 비동기 코드를 작성할 때 더 깔끔한 코드를 제공한다
- await 키워드는 해당 Future 가 끝날 때까지 함수 실행을 기다린다

## 생존코딩 예외 처리의 정석
